<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>TikTop Hooks - Trending 24h</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet"/>
  <style>
    /* Reset e vari√°veis */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    :root {
      --tiktok-black: #000000;
      --tiktok-dark: #161823;
      --tiktok-darker: #0f1419;
      --tiktok-red: #fe2c55;
      --tiktok-blue: #25f4ee;
      --tiktok-white: #ffffff;
      --tiktok-gray: #8a8b9b;
      --tiktok-light-gray: #f1f1f2;
      --tiktok-border: rgba(255, 255, 255, 0.1);
      --tiktok-accent: #ff0050;
      --tiktok-cyan: #00f5ff;
      --trending-gold: #ffd700;
      --trending-orange: #ff6b35;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background: var(--tiktok-black);
      color: var(--tiktok-white);
      overflow-x: hidden;
      line-height: 1.6;
    }

    /* -- POPUPS -- */
    .popup, .recovery-popup {
      position: fixed; top:0; left:0;
      width:100%; height:100%;
      background: rgba(0,0,0,0.9);
      display:flex; justify-content:center; align-items:center;
      z-index:10000; backdrop-filter: blur(20px);
    }
    .popup-content, .recovery-content {
      position: relative;
      display:flex; flex-direction:column;
      background: linear-gradient(135deg,var(--tiktok-dark),var(--tiktok-darker));
      padding:40px; border-radius:20px;
      width:420px; max-width:90vw; text-align:center;
      box-shadow:0 25px 50px rgba(254,44,85,0.3);
      border:1px solid var(--tiktok-border);
      overflow:hidden;
    }
    .popup-content::before, .recovery-content::before {
      content:''; position:absolute; top:0; left:0; right:0; height:4px;
      background: linear-gradient(135deg,var(--tiktok-red),var(--tiktok-cyan));
      background-size:200% 200%; animation:gradient-shift 3s ease infinite;
    }
    .popup-content h3, .recovery-content h3 {
      font-size:28px; font-weight:900; margin-bottom:8px;
      background: linear-gradient(135deg,var(--tiktok-red),var(--tiktok-cyan));
      -webkit-background-clip:text; color:transparent;
    }
    .popup-subtitle, .recovery-subtitle {
      font-size:14px; color:var(--tiktok-gray);
      margin-bottom:32px; font-weight:500; line-height:1.5;
    }
    .popup-content input, .recovery-content input {
      padding:16px 20px; margin-bottom:16px;
      border:2px solid var(--tiktok-border); border-radius:12px;
      background: var(--tiktok-darker); color:var(--tiktok-white);
      font-size:16px; font-weight:500; width:100%;
      transition:all .3s cubic-bezier(.4,0,.2,1);
    }
    .popup-content input:focus, .recovery-content input:focus {
      outline:none; border-color:var(--tiktok-red);
      box-shadow:0 0 0 4px rgba(254,44,85,0.15);
      transform: translateY(-2px);
      background: rgba(15,20,25,0.8);
    }
    .popup-content input::placeholder, .recovery-content input::placeholder {
      color:var(--tiktok-gray); font-weight:400;
    }
    .popup-content button:not(.close-btn), .recovery-content button:not(.close-btn) {
      width:100%; padding:16px;
      background: linear-gradient(135deg,var(--tiktok-red),var(--tiktok-accent) 50%,var(--tiktok-cyan));
      background-size:200% 200%; border:none; color:var(--tiktok-white);
      border-radius:12px; cursor:pointer; font-weight:700;
      font-size:16px; text-transform:uppercase; letter-spacing:1px;
      transition:all .3s cubic-bezier(.4,0,.2,1);
      box-shadow:0 8px 25px rgba(254,44,85,0.3);
      position:relative; overflow:hidden; margin-bottom:12px;
    }
    .popup-content button:hover:enabled:not(.close-btn),
    .recovery-content button:hover:enabled:not(.close-btn) {
      transform: translateY(-3px);
      box-shadow:0 12px 35px rgba(254,44,85,0.4);
      animation:gradient-shift 2s ease infinite;
    }
    .close-btn {
      position:absolute; top:16px; right:16px;
      background:none; border:none; color:var(--tiktok-gray);
      font-size:24px; cursor:pointer; padding:8px; border-radius:8px;
      transition:all .3s ease;
    }
    .close-btn:hover {
      background: rgba(255,255,255,0.1);
      color: var(--tiktok-white);
    }
    .forgot-password-link, .back-to-login-link {
      margin:16px 0 24px; text-align:center;
    }
    .forgot-password-link span, .back-to-login-link span {
      color:var(--tiktok-cyan); font-size:14px; font-weight:500;
      cursor:pointer; text-decoration:underline; text-decoration-color:transparent;
      transition:all .3s ease;
    }
    .forgot-password-link span:hover, .back-to-login-link span:hover {
      color:var(--tiktok-white); text-decoration-color:var(--tiktok-cyan);
      transform: translateY(-1px);
    }
    .register-button {
      width:100%; padding:16px; display:flex; align-items:center; justify-content:center;
      background: linear-gradient(135deg,var(--tiktok-cyan),var(--tiktok-blue) 50%,var(--tiktok-red));
      background-size:200% 200%; border:none; color:var(--tiktok-white);
      border-radius:12px; cursor:pointer; font-weight:700; font-size:16px;
      text-transform:uppercase; letter-spacing:1px; transition:all .3s cubic-bezier(.4,0,.2,1);
      box-shadow:0 8px 25px rgba(37,244,238,0.3); position:relative; overflow:hidden;
      margin-bottom:12px; text-decoration:none;
    }
    .divider {
      display:flex; align-items:center; margin:20px 0 24px;
      font-size:12px; color:var(--tiktok-gray); font-weight:500;
    }
    .divider::before, .divider::after {
      content:''; flex:1; height:1px; background:var(--tiktok-border);
    }
    .divider span { padding:0 16px; text-transform:uppercase; letter-spacing:1px; }
    #loginError, #recoveryError {
      color:var(--tiktok-red); font-size:14px; font-weight:500;
      margin-top:16px; padding:12px; border-radius:8px;
      background:rgba(254,44,85,0.1); border:1px solid rgba(254,44,85,0.3);
      display:none;
    }
    #loginError.show, #recoveryError.show { display:block; }
    #recoveryMessage {
      color:var(--tiktok-cyan); font-size:14px; font-weight:500;
      margin-top:16px; padding:12px; border-radius:8px;
      background:rgba(37,244,238,0.1); border:1px solid rgba(37,244,238,0.3);
      display:none;
    }
    #recoveryMessage.show { display:block; }

    /* HEADER */
    .header {
      position:fixed; top:0; left:0; right:0;
      background: linear-gradient(135deg,var(--tiktok-black),var(--tiktok-dark));
      border-bottom:1px solid var(--tiktok-border);
      z-index:1000; backdrop-filter: blur(20px);
      box-shadow:0 8px 32px rgba(0,0,0,0.4);
    }
    .header-top {
      height:72px; display:flex; align-items:center;
      justify-content:space-between; padding:0 32px;
    }
    .logo { display:flex; align-items:center; gap:12px; cursor:pointer; transition:all .3s ease; }
    .logo:hover { transform: scale(1.05); }
    .logo-icon {
      width:32px; height:32px; background: linear-gradient(135deg,var(--tiktok-red),var(--tiktok-cyan));
      border-radius:8px; display:flex; align-items:center; justify-content:center;
      position:relative; overflow:hidden; font-size:18px; font-weight:900; color:white;
    }
    .logo-icon img {
      width:20px; height:20px; object-fit:contain; filter:brightness(0) invert(1);
    }
    .logo-text { display:flex; flex-direction:column; line-height:1; }
    .logo-main {
      font-size:28px; font-weight:900;
      background: linear-gradient(135deg,var(--tiktok-red),var(--tiktok-cyan));
      -webkit-background-clip:text; color:transparent;
    }
    .logo-sub {
      font-size:12px; font-weight:600; color:var(--trending-gold);
      text-transform:uppercase; letter-spacing:1px; margin-top:2px;
    }
    .header-actions { display:flex; align-items:center; gap:16px; }
    .live-badge {
      background: linear-gradient(135deg,var(--trending-orange),var(--trending-gold));
      background-size:200% 200%; animation:gradient-shift 2s ease infinite;
      color:var(--tiktok-black); padding:10px 20px; border-radius:25px;
      font-size:12px; font-weight:900; text-transform:uppercase; letter-spacing:1px;
      box-shadow:0 4px 15px rgba(255,215,0,0.4);
    }
    .back-btn {
      display:flex; align-items:center; gap:8px;
      background: linear-gradient(135deg,var(--tiktok-dark),var(--tiktok-darker));
      border:2px solid var(--tiktok-border); color:var(--tiktok-white);
      padding:12px 20px; border-radius:12px; text-decoration:none;
      font-size:14px; font-weight:600; transition:all .3s ease;
    }
    .back-btn:hover {
      border-color:var(--tiktok-cyan); transform: translateY(-2px);
      box-shadow:0 8px 25px rgba(37,244,238,0.2);
    }

    /* HEADER STATS */
    .header-stats {
      padding:20px 32px; background:rgba(0,0,0,0.3);
      border-top:1px solid var(--tiktok-border);
      display:flex; justify-content:space-between; align-items:center;
    }
    .stats-container {
      display:grid; grid-template-columns:repeat(4,1fr); gap:24px; flex:1;
    }
    .stat-card {
      text-align:center; padding:16px; border-radius:12px;
      background: linear-gradient(135deg,var(--tiktok-dark),var(--tiktok-darker));
      border:1px solid var(--tiktok-border); transition:all .3s ease;
    }
    .stat-card:hover {
      border-color:var(--tiktok-cyan); transform: translateY(-2px);
      box-shadow:0 8px 25px rgba(37,244,238,0.15);
    }
    .stat-number {
      font-size:24px; font-weight:900; color:var(--trending-gold);
      margin-bottom:4px;
    }
    .stat-label {
      font-size:12px; font-weight:600; color:var(--tiktok-gray);
      text-transform:uppercase; letter-spacing:1px;
    }
    .refresh-container {
      margin-left:24px;
    }
    .refresh-btn {
      display:flex; align-items:center; gap:8px;
      background: linear-gradient(135deg,var(--tiktok-red),var(--tiktok-cyan));
      border:none; color:var(--tiktok-white); padding:12px 20px;
      border-radius:12px; cursor:pointer; font-weight:700;
      font-size:14px; transition:all .3s ease;
      text-transform:uppercase; letter-spacing:1px;
    }
    .refresh-btn:hover {
      transform: translateY(-2px);
      box-shadow:0 8px 25px rgba(254,44,85,0.3);
    }
    .refresh-btn svg {
      animation:none; transition:transform .3s ease;
    }
    .refresh-btn.loading svg {
      animation:spin 1s linear infinite;
    }

    /* MAIN CONTENT */
    .main-content {
      margin-top:140px; padding:40px 32px; min-height:calc(100vh - 140px);
    }

    /* TRENDING HEADER */
    .trending-header {
      text-align:center; margin-bottom:40px;
    }
    .trending-title {
      font-size:48px; font-weight:900; margin-bottom:16px;
      background: linear-gradient(135deg,var(--trending-gold),var(--trending-orange),var(--tiktok-red));
      -webkit-background-clip:text; color:transparent;
      display:flex; align-items:center; justify-content:center; gap:16px;
    }
    .fire-icon {
      font-size:52px; animation:fire-bounce 2s ease-in-out infinite;
    }
    @keyframes fire-bounce {
      0%, 100% { transform: scale(1) rotate(-2deg); }
      50% { transform: scale(1.1) rotate(2deg); }
    }
    .trending-subtitle {
      font-size:18px; color:var(--tiktok-gray); font-weight:500;
      max-width:600px; margin:0 auto; line-height:1.6;
    }

    /* FILTER BAR */
    .filter-bar {
      display:flex; justify-content:center; gap:32px; margin-bottom:40px;
      padding:24px; background: linear-gradient(135deg,var(--tiktok-dark),var(--tiktok-darker));
      border-radius:16px; border:1px solid var(--tiktok-border);
      max-width:800px; margin-left:auto; margin-right:auto; margin-bottom:40px;
    }
    .filter-group {
      display:flex; flex-direction:column; gap:8px;
    }
    .filter-label {
      font-size:12px; font-weight:600; color:var(--tiktok-gray);
      text-transform:uppercase; letter-spacing:1px;
    }
    .filter-select {
      padding:12px 16px; background:var(--tiktok-darker);
      border:2px solid var(--tiktok-border); border-radius:12px;
      color:var(--tiktok-white); font-size:14px; font-weight:500;
      cursor:pointer; appearance:none; min-width:160px;
      background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
      background-position:right 12px center; background-repeat:no-repeat; background-size:16px;
      padding-right:40px; transition:all .3s ease;
    }
    .filter-select:focus {
      outline:none; border-color:var(--tiktok-cyan);
      box-shadow:0 0 0 4px rgba(37,244,238,0.15);
    }

    /* VIDEOS GRID */
    .videos-grid {
      display:grid; grid-template-columns:repeat(auto-fill,minmax(320px,1fr));
      gap:24px; max-width:1400px; margin:0 auto;
    }

    /* VIDEO CARD */
    .video-card {
      background: linear-gradient(135deg,var(--tiktok-dark),var(--tiktok-darker));
      border-radius:20px; overflow:hidden;
      transition:all .3s cubic-bezier(.4,0,.2,1);
      border:1px solid var(--tiktok-border); position:relative;
      box-shadow:0 25px 50px rgba(254,44,85,0.15);
    }
    .video-card::before {
      content:''; position:absolute; top:0; left:0; right:0; height:4px;
      background: linear-gradient(135deg,var(--trending-gold),var(--trending-orange));
      background-size:200% 200%; animation:gradient-shift 3s ease infinite;
      z-index:2;
    }
    .video-card:hover {
      transform: translateY(-8px);
      box-shadow:0 35px 70px rgba(255,215,0,0.25);
      border-color:var(--trending-gold);
    }

    /* RANKING BADGE */
    .ranking-badge {
      position:absolute; top:12px; left:12px; z-index:3;
      background: linear-gradient(135deg,var(--trending-gold),var(--trending-orange));
      color:var(--tiktok-black); padding:8px 12px; border-radius:20px;
      font-size:14px; font-weight:900; text-transform:uppercase;
      letter-spacing:1px; box-shadow:0 4px 15px rgba(255,215,0,0.4);
      border:2px solid var(--tiktok-white);
    }
    .ranking-badge.top-3 {
      background: linear-gradient(135deg,var(--trending-gold),#ffed4e);
      animation:golden-pulse 2s ease-in-out infinite;
    }
    @keyframes golden-pulse {
      0%, 100% { box-shadow:0 4px 15px rgba(255,215,0,0.4); }
      50% { box-shadow:0 6px 25px rgba(255,215,0,0.8); }
    }

    .video-wrapper {
      position:relative; width:100%; aspect-ratio:9/16;
      background:var(--tiktok-darker); overflow:hidden; margin-top:4px;
    }
    .video-player {
      width:100%; height:100%; object-fit:cover;
      transition:transform .3s ease;
    }
    .video-card:hover .video-player { transform: scale(1.05); }

    .video-info {
      padding:20px; background: linear-gradient(135deg,var(--tiktok-dark),var(--tiktok-darker));
    }
    .video-title {
      font-size:14px; font-weight:600; color:var(--tiktok-white);
      margin-bottom:12px; line-height:1.4;
      display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical;
      overflow:hidden; height:40px;
    }
    .video-author {
      display:flex; align-items:center; gap:10px; margin-bottom:16px;
    }
    .author-avatar {
      width:32px; height:32px; border-radius:50%;
      background: linear-gradient(135deg,var(--trending-gold),var(--trending-orange));
      display:flex; align-items:center; justify-content:center;
      position:relative; overflow:hidden; font-size:12px; font-weight:700; color:var(--tiktok-black);
    }
    .author-name {
      font-size:14px; font-weight:600;
      background: linear-gradient(135deg,var(--tiktok-white),var(--trending-gold));
      -webkit-background-clip:text; color:transparent;
    }

    .video-stats {
      display:flex; justify-content:center; align-items:center;
      border-top:1px solid var(--tiktok-border); padding-top:16px; margin-top:16px;
    }
    .stats-left {
      display:flex; gap:16px; flex-wrap:nowrap;
    }
    .stat-item {
      display:flex; align-items:center; gap:6px;
      color:var(--tiktok-gray); font-size:12px; font-weight:500;
      transition:all .3s ease; padding:4px 8px; border-radius:8px;
      background:rgba(255,215,0,0.1);
    }
    .stat-item:hover {
      color:var(--trending-gold); background:rgba(255,215,0,0.2);
      transform: translateY(-1px);
    }

    /* LOADING */
    .loading {
      display:flex; flex-direction:column;
      justify-content:center; align-items:center;
      padding:80px 20px; color:var(--tiktok-gray);
    }
    .spinner {
      width:40px; height:40px;
      border:3px solid var(--tiktok-border);
      border-top:3px solid var(--trending-gold);
      border-radius:50%; animation:spin 1s linear infinite;
      margin-bottom:16px;
    }
    @keyframes spin { 0%{transform:rotate(0)}100%{transform:rotate(360deg)} }
    .loading-text { font-size:14px; font-weight:500; }

    /* EMPTY / ERROR */
    .empty-state, .error-state {
      grid-column:1/-1; text-align:center; padding:80px 20px;
      color:var(--tiktok-gray);
    }
    .empty-state h3, .error-state h3 {
      font-size:24px; font-weight:700; color:var(--tiktok-white);
      margin-bottom:12px;
    }
    .empty-state p, .error-state p { font-size:16px; opacity:.8; }
    .empty-state .emoji, .error-state .emoji {
      font-size:64px; margin-bottom:20px; display:block;
    }

    /* ANIMA√á√ïES */
    @keyframes gradient-shift {
      0% { background-position:0% 50%; }
      50% { background-position:100% 50%; }
      100% { background-position:0% 50%; }
    }

    /* RESPONSIVE */
    @media (max-width:1200px) {
      .stats-container { grid-template-columns:repeat(2,1fr); gap:16px; }
      .filter-bar { flex-direction:column; gap:20px; align-items:center; }
      .trending-title { font-size:36px; }
    }
    @media (max-width:768px) {
      .header-top { height:60px; padding:0 20px; }
      .header-stats { padding:16px 20px; flex-direction:column; gap:16px; }
      .stats-container { grid-template-columns:repeat(2,1fr); gap:12px; }
      .refresh-container { margin-left:0; }
      .logo-main { font-size:24px; }
      .logo-icon { width:28px; height:28px; font-size:16px; }
      .main-content { margin-top:120px; padding:24px 20px; }
      .trending-title { font-size:28px; flex-direction:column; gap:8px; }
      .fire-icon { font-size:36px; }
      .trending-subtitle { font-size:16px; }
      .filter-bar { padding:20px; }
      .videos-grid { grid-template-columns:repeat(auto-fill,minmax(280px,1fr)); gap:20px; }
      .back-btn { padding:10px 16px; font-size:12px; }
    }
    @media (max-width:480px) {
      .header-top { padding:0 16px; }
      .header-stats { padding:12px 16px; }
      .stats-container { grid-template-columns:1fr; gap:12px; }
      .stat-number { font-size:20px; }
      .logo-main { font-size:20px; }
      .main-content { margin-top:100px; padding:20px 16px; }
      .trending-title { font-size:24px; }
      .fire-icon { font-size:28px; }
      .trending-subtitle { font-size:14px; }
      .filter-bar { padding:16px; gap:16px; }
      .filter-select { min-width:140px; font-size:13px; }
      .videos-grid { grid-template-columns:1fr; gap:16px; }
      .video-info { padding:16px; }
      .ranking-badge { font-size:12px; padding:6px 10px; }
    }
  </style>
</head>
<body>
  <!-- Pop-up de Login -->
  <div class="popup" id="loginPopup">
    <div class="popup-content">
      <h3>TikTop Hooks (BETA)</h3>
      <p class="popup-subtitle">O radar dos v√≠deos que todo mundo quer ver!</p>
      <input type="email" id="email" placeholder="Seu melhor e-mail" required />
      <input type="password" id="password" placeholder="Sua senha secreta" required />
      <button id="loginButton">Entrar Agora</button>
      <div class="forgot-password-link">
        <span id="forgotPasswordBtn">Esqueci minha senha</span>
      </div>
      <div class="divider">
        <span>N√£o tem conta?</span>
      </div>
      <a href="https://lastlink.com/p/C77832B06/checkout-payment/" target="_blank" id="registerButton" class="register-button">
        Cadastre-se Gr√°tis
      </a>
      <div id="loginError"></div>
    </div>
  </div>

  <!-- Pop-up de Recupera√ß√£o de Senha -->
  <div class="recovery-popup" id="recoveryPopup" style="display: none;">
    <div class="recovery-content">
      <button class="close-btn" id="closeRecoveryBtn">√ó</button>
      <h3>Recuperar Senha</h3>
      <p class="recovery-subtitle">Digite seu e-mail e enviaremos um link para redefinir sua senha em poucos segundos</p>
      <input type="email" id="recoveryEmail" placeholder="Seu e-mail cadastrado" required />
      <button id="sendRecoveryBtn">Enviar Link de Recupera√ß√£o</button>
      <div class="back-to-login-link">
        <span id="backToLoginBtn">Voltar ao Login</span>
      </div>
      <div id="recoveryMessage"></div>
      <div id="recoveryError"></div>
    </div>
  </div>

  <header class="header">
    <div class="header-top">
      <div class="logo">
        <div class="logo-icon">
          <img src="https://icones.pro/wp-content/uploads/2021/03/logo-icone-tiktok.png" alt="TikTok">
        </div>
        <div class="logo-text">
          <div class="logo-main">TikTok Hooks</div>
          <div class="logo-sub">Trending 24h</div>
        </div>
      </div>
      <div class="header-actions">
        <div class="trending-badge live-badge">üî• AO VIVO</div>
        <a href="index.html" class="back-btn">
          <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
            <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
          </svg>
          Buscar
        </a>
      </div>
    </div>
    <div class="header-stats">
      <div class="stats-container">
        <div class="stat-card">
          <div class="stat-number" id="lastUpdate">--</div>
          <div class="stat-label">√öltima Atualiza√ß√£o</div>
        </div>
      </div>
      <div class="refresh-container">
        <button id="refreshBtn" class="refresh-btn">
          <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
            <path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/>
          </svg>
          Atualizar
        </button>
      </div>
    </div>
  </header>

  <main class="main-content">
    <div class="trending-header">
      <h1 class="trending-title">
        <span class="fire-icon">üî•</span>
        Trending nas √öltimas 24h
        <span class="fire-icon">üî•</span>
      </h1>
      <p class="trending-subtitle">Os v√≠deos mais vistos pela nossa comunidade, atualizados em tempo real</p>
    </div>

    <div class="filter-bar">
      <div class="filter-group">
        <label class="filter-label">Filtrar por regi√£o:</label>
        <select id="regionFilter" class="filter-select">
          <option value="">Todas as regi√µes</option>
          <option value="id">Indon√©sia</option>
          <option value="us">Estados Unidos</option>
          <option value="br">Brasil</option>
          <option value="mx">M√©xico</option>
          <option value="pk">Paquist√£o</option>
          <option value="ph">Filipinas</option>
          <option value="ru">R√∫ssia</option>
          <option value="bd">Bangladesh</option>
          <option value="eg">Egito</option>
          <option value="vn">Vietn√£</option>
        </select>
      </div>
      <div class="filter-group">
        <label class="filter-label">Per√≠odo:</label>
        <select id="periodFilter" class="filter-select">
          <option value="24">√öltimas 24h</option>
          <option value="12">√öltimas 12h</option>
          <option value="6">√öltimas 6h</option>
          <option value="1">√öltima hora</option>
        </select>
      </div>
    </div>

    <div class="videos-grid" id="videosGrid"></div>
    
    <div class="loading" id="loading" style="display: none;">
      <div class="spinner"></div>
      <div class="loading-text">Carregando trending...</div>
    </div>
  </main>

  <script>
    const LOGIN_WEBHOOK_URL = 'https://n8n-2025n8n.wjemh8.easypanel.host/webhook/0bbfaeaa-d9cb-4a4d-960c-cfedf598e547';
    const TRENDING_WEBHOOK_URL = 'https://n8n-2025n8n.wjemh8.easypanel.host/webhook/trending-videos-24h';
    const RECOVERY_WEBHOOK_URL = 'https://n8n-2025n8n.wjemh8.easypanel.host/webhook/password-recovery';

    let trendingData = [];
    let userId = null;
    let refreshInterval = null;

    // Cookies
    function setCookie(name, value, days) {
      const expires = new Date();
      expires.setTime(expires.getTime() + days*24*60*60*1000);
      document.cookie = `${name}=${value};expires=${expires.toUTCString()};path=/`;
    }
    function getCookie(name) {
      const nameEQ = name + '=';
      const ca = document.cookie.split(';');
      for (let c of ca) {
        c = c.trim();
        if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length);
      }
      return null;
    }
    function deleteCookie(name) {
      document.cookie = `${name}=;expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/`;
    }

    // Verifica login salvo
    function checkExistingLogin() {
      const savedUserId = getCookie('tiktok_user_id');
      const savedEmail = getCookie('tiktok_user_email');
      if (savedUserId && savedEmail) {
        userId = savedUserId;
        document.getElementById('loginPopup').style.display = 'none';
        console.log('Login restaurado:', savedEmail);
        return true;
      }
      return false;
    }

    // Eventos de login
    document.getElementById('loginButton').addEventListener('click', async () => {
      const loginBtn = document.getElementById('loginButton');
      const email = document.getElementById('email').value;
      const password = document.getElementById('password').value;
      const loginError = document.getElementById('loginError');
      loginError.classList.remove('show');
      loginError.textContent = '';

      if (!email || !password) {
        loginError.textContent = 'Por favor, preencha todos os campos';
        return loginError.classList.add('show');
      }

      loginBtn.disabled = true;
      loginBtn.textContent = 'Entrando...';

      try {
        const res = await fetch(LOGIN_WEBHOOK_URL, {
          method: 'POST',
          headers: {'Content-Type':'application/json'},
          body: JSON.stringify({ email, password })
        });
        const result = await res.json();

        if (result.success) {
          userId = result.userId;
          setCookie('tiktok_user_id', userId, 7);
          setCookie('tiktok_user_email', email, 7);
          document.getElementById('loginPopup').style.display = 'none';
          loadTrendingVideos();
        } else {
          loginError.textContent = result.message || 'Login inv√°lido.';
          loginError.classList.add('show');
        }
      } catch (err) {
        loginError.textContent = 'Erro ao conectar. Verifique sua internet.';
        loginError.classList.add('show');
      } finally {
        loginBtn.disabled = false;
        loginBtn.textContent = 'Entrar Agora';
      }
    });

    // Recovery password
    document.getElementById('forgotPasswordBtn').addEventListener('click', () => {
      document.getElementById('recoveryPopup').style.display = 'flex';
      document.getElementById('recoveryEmail').focus();
    });

    document.getElementById('backToLoginBtn').addEventListener('click', () => {
      document.getElementById('recoveryPopup').style.display = 'none';
      clearRecoveryForm();
      document.getElementById('email').focus();
    });

    document.getElementById('closeRecoveryBtn').addEventListener('click', () => {
      document.getElementById('recoveryPopup').style.display = 'none';
      clearRecoveryForm();
    });

    document.getElementById('sendRecoveryBtn').addEventListener('click', async () => {
      const btn = document.getElementById('sendRecoveryBtn');
      const email = document.getElementById('recoveryEmail').value;
      const msg = document.getElementById('recoveryMessage');
      const err = document.getElementById('recoveryError');
      msg.classList.remove('show');
      err.classList.remove('show');
      msg.textContent = err.textContent = '';

      if (!email) {
        err.textContent = 'Por favor, digite seu e-mail';
        return err.classList.add('show');
      }
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!emailRegex.test(email)) {
        err.textContent = 'Digite um e-mail v√°lido';
        return err.classList.add('show');
      }

      btn.disabled = true;
      btn.textContent = 'Enviando...';

      try {
        const res = await fetch(RECOVERY_WEBHOOK_URL, {
          method: 'POST',
          headers: {'Content-Type':'application/json'},
          body: JSON.stringify({ email })
        });
        const result = await res.json();

        if (result.success) {
          msg.textContent = 'Link enviado! Verifique seu e-mail.';
          msg.classList.add('show');
          setTimeout(() => {
            document.getElementById('recoveryPopup').style.display = 'none';
            clearRecoveryForm();
          }, 3000);
        } else {
          err.textContent = result.message || 'Erro interno.';
          err.classList.add('show');
        }
      } catch (e) {
        err.textContent = 'Erro ao conectar.';
        err.classList.add('show');
      } finally {
        btn.disabled = false;
        btn.textContent = 'Enviar Link de Recupera√ß√£o';
      }
    });

    function clearRecoveryForm() {
      document.getElementById('recoveryEmail').value = '';
      document.getElementById('recoveryMessage').classList.remove('show');
      document.getElementById('recoveryError').classList.remove('show');
    }

    // Helpers de formata√ß√£o
    function formatNumber(num) {
      if (num >= 1e9) return (num/1e9).toFixed(1) + 'B';
      if (num >= 1e6) return (num/1e6).toFixed(1) + 'M';
      if (num >= 1e3) return (num/1e3).toFixed(1) + 'K';
      return num.toString();
    }

    function getInitials(name) {
      return name ? name.charAt(0).toUpperCase() : '?';
    }

    function getTimeAgo(timestamp) {
      const now = new Date();
      const time = new Date(timestamp);
      const diffMs = now - time;
      const diffHours = Math.floor(diffMs / (1000 * 60 * 60));
      const diffMins = Math.floor(diffMs / (1000 * 60));
      
      if (diffHours >= 1) return `${diffHours}h atr√°s`;
      if (diffMins >= 1) return `${diffMins}min atr√°s`;
      return 'Agora mesmo';
    }

    function getRankingBadge(rank) {
      const badges = {
        1: 'ü•á #1',
        2: 'ü•à #2', 
        3: 'ü•â #3'
      };
      
      if (rank <= 3) {
        return `<div class="ranking-badge top-3">${badges[rank]}</div>`;
      } else {
        return `<div class="ranking-badge">#${rank}</div>`;
      }
    }

    // Cria o card de v√≠deo com ranking
    function createTrendingVideoCard(video, rank) {
      const card = document.createElement('div');
      card.className = 'video-card';
      card.innerHTML = `
        ${getRankingBadge(rank)}
        <div class="video-wrapper">
          <video class="video-player" controls preload="metadata">
            <source src="${video.play || video.video_url}" type="video/mp4">
            Seu navegador n√£o suporta v√≠deo.
          </video>
        </div>
        <div class="video-info">
          <div class="video-title">${video.title || video.desc || 'Sem t√≠tulo'}</div>
          <div class="video-author">
            <div class="author-avatar">${getInitials(video.author?.nickname || video.author_name)}</div>
            <span class="author-name">@${video.author?.nickname || video.author_name || 'usuario'}</span>
          </div>
          <div class="video-stats">
            <div class="stats-left">
              <div class="stat-item" title="Visualiza√ß√µes">
                <svg class="stat-icon" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                  <circle cx="12" cy="12" r="3"/>
                </svg>
                ${formatNumber(video.play_count || video.views || 0)}
              </div>
              <div class="stat-item" title="Curtidas">
                <svg class="stat-icon" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
                </svg>
                ${formatNumber(video.digg_count || video.likes || 0)}
              </div>
              <div class="stat-item" title="Coment√°rios">
                <svg class="stat-icon" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
                </svg>
                ${formatNumber(video.comment_count || video.comments || 0)}
              </div>
              <div class="stat-item" title="Compartilhamentos">
                <svg class="stat-icon" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"/>
                </svg>
                ${formatNumber(video.share_count || video.shares || 0)}
              </div>
            </div>
          </div>
        </div>
      `;
      return card;
    }

    // Atualiza as estat√≠sticas do header
    function updateHeaderStats(data) {
      const totalVideos = data.videos?.length || 0;
      const totalViews = data.videos?.reduce((sum, v) => sum + (v.play_count || v.views || 0), 0) || 0;
      const regions = data.videos?.map(v => v.region).filter(Boolean) || [];
      const topRegion = regions.length > 0 ? 
        regions.reduce((a, b, i, arr) => 
          arr.filter(v => v === a).length >= arr.filter(v => v === b).length ? a : b
        ) : '--';
      
      document.getElementById('totalVideos').textContent = formatNumber(totalVideos);
      document.getElementById('totalViews').textContent = formatNumber(totalViews);
      document.getElementById('topRegion').textContent = topRegion.toUpperCase() || '--';
      document.getElementById('lastUpdate').textContent = getTimeAgo(data.last_updated || new Date());
    }

    // Filtra os v√≠deos
    function filterVideos() {
      const regionFilter = document.getElementById('regionFilter').value;
      const periodFilter = parseInt(document.getElementById('periodFilter').value);
      
      let filteredVideos = [...trendingData];
      
      // Filtro por regi√£o
      if (regionFilter) {
        filteredVideos = filteredVideos.filter(video => 
          video.region === regionFilter || video.search_region === regionFilter
        );
      }
      
      // Filtro por per√≠odo
      if (periodFilter < 24) {
        const cutoffTime = new Date();
        cutoffTime.setHours(cutoffTime.getHours() - periodFilter);
        filteredVideos = filteredVideos.filter(video => {
          const videoTime = new Date(video.created_time || video.timestamp || Date.now());
          return videoTime >= cutoffTime;
        });
      }
      
      renderVideos(filteredVideos);
    }

    // Renderiza os v√≠deos
    function renderVideos(videos) {
      const grid = document.getElementById('videosGrid');
      grid.innerHTML = '';
      
      if (videos.length === 0) {
        grid.innerHTML = `
          <div class="empty-state">
            <span class="emoji">üòî</span>
            <h3>Nenhum v√≠deo encontrado</h3>
            <p>Tente ajustar os filtros ou aguarde novos v√≠deos trending</p>
          </div>`;
        return;
      }
      
      videos.forEach((video, index) => {
        const rank = index + 1;
        grid.appendChild(createTrendingVideoCard(video, rank));
      });
    }

    // Carrega v√≠deos trending
    async function loadTrendingVideos() {
      if (!userId) {
        alert('Voc√™ precisa fazer login primeiro!');
        return;
      }

      const loading = document.getElementById('loading');
      const refreshBtn = document.getElementById('refreshBtn');
      
      loading.style.display = 'flex';
      refreshBtn.classList.add('loading');
      refreshBtn.disabled = true;

      try {
        const res = await fetch(TRENDING_WEBHOOK_URL, {
          method: 'POST',
          headers: {'Content-Type':'application/json'},
          body: JSON.stringify({ 
            userId,
            period: document.getElementById('periodFilter').value,
            region: document.getElementById('regionFilter').value
          })
        });
        
        const data = await res.json();

        if (data.success && data.videos) {
          // Ordena por visualiza√ß√µes (decrescente)
          trendingData = data.videos.sort((a, b) => {
            const viewsA = a.play_count || a.views || 0;
            const viewsB = b.play_count || b.views || 0;
            return viewsB - viewsA;
          });
          
          updateHeaderStats(data);
          renderVideos(trendingData);
          
          console.log(`Carregados ${trendingData.length} v√≠deos trending`);
        } else {
          document.getElementById('videosGrid').innerHTML = `
            <div class="error-state">
              <span class="emoji">‚ùå</span>
              <h3>Ops! Algo deu errado</h3>
              <p>${data.message || 'Erro ao carregar v√≠deos trending'}</p>
            </div>`;
        }
      } catch (err) {
        console.error('Erro ao carregar trending:', err);
        document.getElementById('videosGrid').innerHTML = `
          <div class="error-state">
            <span class="emoji">‚ö†Ô∏è</span>
            <h3>Erro na conex√£o</h3>
            <p>Verifique sua internet e tente novamente</p>
          </div>`;
      } finally {
        loading.style.display = 'none';
        refreshBtn.classList.remove('loading');
        refreshBtn.disabled = false;
      }
    }

    // Event listeners
    document.getElementById('refreshBtn').addEventListener('click', loadTrendingVideos);
    document.getElementById('regionFilter').addEventListener('change', filterVideos);
    document.getElementById('periodFilter').addEventListener('change', () => {
      filterVideos();
      loadTrendingVideos();
    });

    // Enter nos inputs de login
    ['email','password','recoveryEmail'].forEach(id => {
      document.getElementById(id).addEventListener('keypress', e => {
        if (e.key === 'Enter') {
          if (id === 'email') document.getElementById('password').focus();
          else if (id === 'password') document.getElementById('loginButton').click();
          else document.getElementById('sendRecoveryBtn').click();
        }
      });
    });

    // Auto-refresh a cada 5 minutos
    function startAutoRefresh() {
      if (refreshInterval) clearInterval(refreshInterval);
      refreshInterval = setInterval(() => {
        if (userId) {
          console.log('Auto-refresh dos v√≠deos trending');
          loadTrendingVideos();
        }
      }, 5 * 60 * 1000);
    }

    // Cleanup do auto-refresh
    function stopAutoRefresh() {
      if (refreshInterval) {
        clearInterval(refreshInterval);
        refreshInterval = null;
      }
    }

    // Logout
    function logout() {
      deleteCookie('tiktok_user_id');
      deleteCookie('tiktok_user_email');
      userId = null;
      stopAutoRefresh();
      document.getElementById('loginPopup').style.display = 'flex';
      document.getElementById('email').value = '';
      document.getElementById('password').value = '';
      document.getElementById('email').focus();
    }

    // Inicializa√ß√£o
    window.addEventListener('load', () => {
      if (!checkExistingLogin()) {
        document.getElementById('email').focus();
      } else {
        loadTrendingVideos();
        startAutoRefresh();
      }
    });

    // Bot√£o de logout se logado
    if (getCookie('tiktok_user_id')) {
      const headerActions = document.querySelector('.header-actions');
      const logoutBtn = document.createElement('button');
      logoutBtn.textContent = 'Sair';
      logoutBtn.className = 'logout-btn';
      Object.assign(logoutBtn.style, {
        background: 'linear-gradient(135deg,var(--tiktok-red),var(--tiktok-accent) 50%,var(--tiktok-cyan))',
        border: 'none',
        color: 'var(--tiktok-white)',
        padding: '8px 16px',
        borderRadius: '12px',
        fontSize: '12px',
        fontWeight: '700',
        cursor: 'pointer',
        textTransform: 'uppercase',
        letterSpacing: '1px',
        marginLeft: '16px'
      });
      logoutBtn.addEventListener('click', logout);
      headerActions.appendChild(logoutBtn);
    }

    // Cleanup ao sair da p√°gina
    window.addEventListener('beforeunload', stopAutoRefresh);
  </script>
</body>
</html>totalVideos">0</div>
          <div class="stat-label">V√≠deos Trending</div>
        </div>
        <div class="stat-card">
          <div class="stat-number" id="totalViews">0</div>
          <div class="stat-label">Visualiza√ß√µes 24h</div>
        </div>
        <div class="stat-card">
          <div class="stat-number" id="topRegion">--</div>
          <div class="stat-label">Regi√£o Mais Ativa</div>
        </div>
        <div class="stat-card">
          <div class="stat-number" id="
